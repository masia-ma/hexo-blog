---
title: 登录组件的的见解
categroies:
  - vue
  - vuex
tags: 
  - vue
  - vuex
date: 2019-05-30 18:05:00
---
目前认为登录组件中关于点击登录之后，根据返回信息的执行的各种操作，放在登录组件自身的方法中去执行比较合理。观点如下：
<!-- more -->
1. 登录方法使用的单一性，一个系统也许只有一个登录模块，那么也许只有这样一个模块在调用登录方法。并不像获取列表，获取个人信息等方法要被好多组件所共用。
2. 根据接口返回的结果，直接去判断是用户名不存在，输入密码错误，还是登录成功。省去vuex中对登录状态的赋值操作。一方面麻烦，另外一方面，vuex中的改变状态的所提交的commit()方法为异步操作，所以还需要依赖监听属性去监听登录状态，再去决定执行接下来的操作，需要考虑执行顺序，容易出问题。

直接把登录方法封装在登录组件之中，可以省去token在vuex中的存放，登录成功后，登录组件中的登录方法中，将token写入用户浏览器的session中，然后，可以直接根据成功登录的返回的状态码，去决定页面的跳转。

总结： 登录组件的特殊性，使得直接把登录的各种操作写在vue组件里面比使用vuex更方便。